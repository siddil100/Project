{%load static %}
{% if personal_details %}
    <div class="container mt-5">
        <div class="row">
            {% for profile in personal_details %}
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card">
                        <div class="img-container">
                            {% if profile.profile_image %}
                                <img src="{{ profile.profile_image.url }}" class="card-img-top card-img-fixed-height" alt="Profile Picture" style="object-fit: contain;">
                            {% else %}
                                <img src="{% static '/nodp/no.jpg' %}" class="card-img-top card-img-fixed-height" alt="Placeholder Image">
                            {% endif %}
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">{{ profile.first_name|title }} {{ profile.last_name|title }}</h5>
                            <p class="card-text">Age: {{ profile.calculate_age }}</p>
                            <p class="card-text">Religion: {{ profile.religion }}</p>
                            <!-- Access related details via profile.user -->
                            {% with profile.user.employmentdetails_set.first as employment %}
                                {% with profile.user.locationdetails_set.first as location %}
                                    {% if employment %}
                                        <p class="card-text">Profession: {{ employment.occupation }}</p>
                                    {% else %}
                                        <p class="card-text">Profession: Not available</p>
                                    {% endif %}
                                    {% if location %}
                                        <p class="card-text">Location: {{ location.current_city }}</p>
                                    {% else %}
                                        <p class="card-text">Location: Not available</p>
                                    {% endif %}
                                {% endwith %}
                            {% endwith %}
                            <!-- Modify or add additional fields as per your requirements -->
                        </div>
                        <div class="card-footer">
                            <a href="{% url 'matrimony:user_detail' user_id=profile.user.id %}" class="btn btn-primary">View Details</a>
                            <a href="{% url 'matint:send_interest' user_id=profile.user.id %}" class="btn btn-success">Send Interest</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% else %}
    <div class="container mt-5">
        <div class="row">
            <div class="col">
                <p>No search results found.</p>
            </div>
        </div>
    </div>
{% endif %}

<div class="center-button">
    <a href="{% url 'matint:search_page' %}" class="btn btn-primary btn-back">Go Back</a>
</div>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet">
<style>
    body {
        background-color: pink;
    }
    .card {
        transition: transform 0.2s;
        margin-bottom: 20px;
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
    }
    .card:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
    }
    .img-container {
        overflow: hidden;
    }
    .card-img-fixed-height {
        height: 200px;
        object-fit: cover;
        transition: transform 0.2s;
    }
    .card:hover .card-img-fixed-height {
        transform: scale(1.1);
    }
    .card-title {
        font-size: 18px;
        margin-bottom: 5px;
    }
    .card-text {
        font-size: 14px;
        margin-bottom: 3px;
    }
    .card-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #f0f0f0;
        padding: 10px;
    }

    .center-button {
        text-align: center; /* Center-align content */
    }
</style>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
